<!DOCTYPE html>
<html lang="pt-BR" class="h-full scroll-smooth overflow-x-hidden">
  <head>
    <%# ===== Defaults simples (podem ser sobrescritos por page) ===== %>
    <% site_name        = "Biotech" %>
    <% default_title    = content_for?(:title) ? yield(:title) : site_name %>
    <% default_desc     = content_for?(:meta_description) ? yield(:meta_description) : "Biotech — criação de software e soluções digitais modernas." %>
    <% default_image    = asset_path("brand/og-image.png") %>
    <% canonical_url    = request.original_url.split("?").first %>

    <title><%= default_title %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="<%= default_desc %>">
    <meta name="robots" content="index,follow">
    <link rel="canonical" href="<%= canonical_url %>">

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%# ===== Favicon (ícone da aba) ===== %>
    <%= favicon_link_tag asset_path("brand/logo-Biotech.png"), rel: "icon", type: "image/png" %>
    <link rel="apple-touch-icon" href="<%= asset_path("brand/apple-touch-icon.png") %>">

    <%# ===== Fonts ===== %>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <%# ===== Open Graph (preview Google/WhatsApp/Facebook/LinkedIn) ===== %>
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="<%= site_name %>">
    <meta property="og:title" content="<%= default_title %>">
    <meta property="og:description" content="<%= default_desc %>">
    <meta property="og:url" content="<%= canonical_url %>">
    <meta property="og:image" content="<%= image_url(default_image) %>">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <%# ===== Twitter Card ===== %>
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="<%= default_title %>">
    <meta name="twitter:description" content="<%= default_desc %>">
    <meta name="twitter:image" content="<%= image_url(default_image) %>">

    <%# ===== Schema.org (Google “entende” a empresa/logo) ===== %>
    <script type="application/ld+json">
      <%= raw({
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": site_name,
        "url": canonical_url.sub(request.path, "/"),
        "logo": image_url(asset_path("brand/logo-512.png"))
      }.to_json) %>
    </script>

    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="min-h-screen overflow-x-hidden bg-black text-white antialiased">
    <%= render "shared/navbar" %>

    <main class="pt-20 pb-16">
      <div class="container-x">
        <%= yield %>
      </div>
    </main>

    <%= render "shared/footer" %>
  </body>
</html>
