@layer components {
  /* ===== grid do fundo via classe ===== */
  .services-bg-grid {
    background-image:
      linear-gradient(to right, rgba(255,255,255,0.20) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255,255,255,0.20) 1px, transparent 1px);
    background-size: 64px 64px;
  }

  /* ===== FX (fibra + partículas) ===== */
  .services-fx {
    @apply pointer-events-none absolute inset-0;
    z-index: 0;
    opacity: .92;
  }

  .services-fx-mask {
    @apply absolute inset-0;
    -webkit-mask-image: radial-gradient(95% 75% at 70% 45%, #000 0%, #000 55%, transparent 86%);
    mask-image: radial-gradient(95% 75% at 70% 45%, #000 0%, #000 55%, transparent 86%);
  }

  .services-fiber {
    @apply absolute inset-0 h-full w-full;
    opacity: .9;
    mix-blend-mode: screen;
  }

  /* drop-shadow reduzido (mais leve) */
  .services-wire {
    stroke: rgba(45,211,227,0.16);
    stroke-width: 2;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    filter: drop-shadow(0 0 12px rgba(45,211,227,0.06));
  }

  .services-beam {
    stroke: rgba(255,255,255,0.85);
    stroke-width: 2.4;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;

    stroke-dasharray: 28 220;
    stroke-dashoffset: 220;

    filter:
      drop-shadow(0 0 8px rgba(45,211,227,0.32))
      drop-shadow(0 0 16px rgba(45,211,227,0.16));

    animation: fiber-sweep 3.9s ease-in-out infinite;
  }

  .services-beam.alt {
    stroke: rgba(119,215,108,0.55);
    stroke-width: 2.1;
    stroke-dasharray: 18 220;
    animation-duration: 5.1s;
    animation-delay: 1.2s;
    opacity: .65;
  }

  @keyframes fiber-sweep {
    0%   { stroke-dashoffset: 220; opacity: .10; }
    35%  { opacity: .75; }
    100% { stroke-dashoffset: 0; opacity: .12; }
  }

  .leaf-p {
    background: rgba(119,215,108,0.78);
    clip-path: path("M20 4c-7 1-12 6-13 13 7-1 12-6 13-13Z");
  }

  /* ===== Tabs premium ===== */
  .services-tabs-wrap {
    @apply -mx-1 overflow-x-auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  .services-tabs-wrap::-webkit-scrollbar { display: none; }

  .services-tabs-head {
    @apply relative inline-flex items-end gap-10 text-3xl sm:text-4xl font-extrabold tracking-tight;
    min-width: max-content;
    padding: 0 4px;
  }

  .services-tab {
    @apply relative text-white/60 transition;
    padding-bottom: 10px;
  }

  .services-tab:hover { @apply text-white; }
  .services-tab.is-active { @apply text-[rgb(var(--bio-green))]; }

  .services-tabs-underline {
    @apply absolute left-0 bottom-2 h-[2px] bg-white/90;
    width: 56px;
    transform: translateX(0);
    transition: transform 240ms cubic-bezier(.2,.8,.2,1), width 240ms cubic-bezier(.2,.8,.2,1);
  }

  .services-panel { @apply min-w-0; }

  .services-kicker {
    @apply text-xs font-semibold tracking-widest uppercase text-[rgb(var(--bio-green))];
  }
  .services-kicker--blue { color: rgb(var(--bio-blue)); }

  .services-list {
    @apply mt-3 space-y-2 text-white/75 text-sm;
  }

  /* ===========================
     MOBILE LITE (O GANHO)
     =========================== */
  @media (max-width: 1023px) {
    /* mata o custo do SVG/beam/mask no mobile */
    .services-fx { display: none !important; }

    /* grid menos pesado (menos linhas) */
    .services-bg-grid {
      opacity: 0.04;
      background-size: 96px 96px;
    }
  }

  /* mobile pequeno: cards leves (SEM backdrop-filter) */
  @media (max-width: 639px) {
    .services-panels {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: 84%;
      gap: 16px;

      overflow-x: auto;
      overflow-y: hidden;
      padding-bottom: 6px;

      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;

      scrollbar-width: none;
    }
    .services-panels::-webkit-scrollbar { display: none; }

    .services-panel {
      scroll-snap-align: start;

      border-radius: 22px;
      border: 1px solid rgba(255,255,255,0.08);

      background:
        radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,0.06), rgba(0,0,0,0) 55%),
        linear-gradient(to bottom, rgba(255,255,255,0.022), rgba(255,255,255,0.010));

      box-shadow: 0 16px 34px rgba(0,0,0,0.34);

      padding: 16px 16px 14px;

      /* IMPORTANTÍSSIMO: nada de blur no mobile */
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
    }

    .services-kicker { font-size: 11px; letter-spacing: .18em; }
    .services-list { margin-top: 10px; font-size: 13px; }
    .services-list li { line-height: 1.55; }
  }

  @media (prefers-reduced-motion: reduce) {
    .services-beam { animation: none !important; opacity: .25; }
    .services-tabs-underline { transition: none !important; }
  }
}
