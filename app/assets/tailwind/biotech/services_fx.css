@layer components {
  /* ===== FX (fibra + partículas) ===== */
  .services-fx {
    @apply pointer-events-none absolute inset-0;
    z-index: 0;
    opacity: .92;
  }

  .services-fx-mask {
    @apply absolute inset-0;
    -webkit-mask-image: radial-gradient(95% 75% at 70% 45%, #000 0%, #000 55%, transparent 86%);
    mask-image: radial-gradient(95% 75% at 70% 45%, #000 0%, #000 55%, transparent 86%);
  }

  .services-fiber {
    @apply absolute inset-0 h-full w-full;
    opacity: .9;
    mix-blend-mode: screen;
  }

  .services-wire {
    stroke: rgba(45,211,227,0.16);
    stroke-width: 2;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    filter: drop-shadow(0 0 18px rgba(45,211,227,0.08));
  }

  .services-beam {
    stroke: rgba(255,255,255,0.85);
    stroke-width: 2.4;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;

    stroke-dasharray: 28 220;
    stroke-dashoffset: 220;

    filter:
      drop-shadow(0 0 10px rgba(45,211,227,0.40))
      drop-shadow(0 0 24px rgba(45,211,227,0.20));

    animation: fiber-sweep 3.6s ease-in-out infinite;
  }

  .services-beam.alt {
    stroke: rgba(119,215,108,0.55);
    stroke-width: 2.1;
    stroke-dasharray: 18 220;
    animation-duration: 4.8s;
    animation-delay: 1.2s;
    opacity: .65;
  }

  /* folhas (reusa .leaf-p do hero_fx.css, mas com “shape” simples) */
  .leaf-p {
    background: rgba(119,215,108,0.78);
    clip-path: path("M20 4c-7 1-12 6-13 13 7-1 12-6 13-13Z");
  }

  /* Mobile: reduz e centraliza o FX */
  @media (max-width: 1023px) {
    .services-fx { opacity: .45; }
    .services-fx-mask {
      -webkit-mask-image: radial-gradient(95% 75% at 55% 40%, #000 0%, #000 52%, transparent 86%);
      mask-image: radial-gradient(95% 75% at 55% 40%, #000 0%, #000 52%, transparent 86%);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .services-beam { animation: none !important; opacity: .35; }
  }

  /* ===== Tabs premium ===== */
  .services-tabs-wrap {
    @apply -mx-1 overflow-x-auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
  .services-tabs-wrap::-webkit-scrollbar { display: none; }

  .services-tabs-head {
    @apply relative inline-flex items-end gap-10 text-3xl sm:text-4xl font-extrabold tracking-tight;
    min-width: max-content;
    padding: 0 4px;
  }

  .services-tab {
    @apply relative text-white/60 transition;
    padding-bottom: 10px;
  }

  .services-tab:hover { @apply text-white; }
  .services-tab.is-active { @apply text-[rgb(var(--bio-green))]; }

  /* underline slider (controlado via JS) */
  .services-tabs-underline {
    @apply absolute left-0 bottom-2 h-[2px] bg-white/90;
    width: 56px;
    transform: translateX(0);
    transition: transform 260ms cubic-bezier(.2,.8,.2,1), width 260ms cubic-bezier(.2,.8,.2,1);
  }

  /* ===== Conteúdo (desktop) ===== */
  .services-panel { @apply min-w-0; }

  .services-kicker {
    @apply text-xs font-semibold tracking-widest uppercase text-[rgb(var(--bio-green))];
  }

  .services-kicker--blue { color: rgb(var(--bio-blue)); }

  .services-list {
    @apply mt-3 space-y-2 text-white/75 text-sm;
  }

  /* ===== MOBILE: COLUNAS LADO A LADO (scroll horizontal premium) ===== */
  .services-panels {
    /* desktop continua grid normal via classes do HTML */
  }

  @media (max-width: 639px) {
    /* em vez de empilhar, vira “trilho” com scroll */
    .services-panels {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: 82%;
      gap: 18px;

      overflow-x: auto;
      overflow-y: hidden;
      padding-bottom: 6px;

      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;

      scrollbar-width: none;
    }
    .services-panels::-webkit-scrollbar { display: none; }

    .services-panel {
      scroll-snap-align: start;

      /* visual premium sem virar card pesado */
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,0.08);
      background:
        radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,0.06), rgba(0,0,0,0) 55%),
        linear-gradient(to bottom, rgba(255,255,255,0.025), rgba(255,255,255,0.012));
      box-shadow: 0 18px 40px rgba(0,0,0,0.35);
      padding: 16px 16px 14px;
      backdrop-filter: blur(10px);
    }

    .services-kicker { font-size: 11px; letter-spacing: .18em; }
    .services-list { margin-top: 10px; font-size: 13px; }
    .services-list li { line-height: 1.55; }
  }

  /* Mobile grande (>= 640px) pode virar 2 colunas sem scroll se preferir */
  @media (min-width: 640px) and (max-width: 1023px) {
    .services-panel { padding-right: 6px; }
    .services-list { font-size: 14px; }
  }
}
